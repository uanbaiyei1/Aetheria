# 小專案企劃

## 壹、目標

### 1.1 發想動機
人類對於「觀察者（Observer）」的角色天生具有深層的好奇心。從《模擬市民》到《WorldBox》，玩家始終著迷於以上帝視角俯瞰虛擬生命的演化。然而，傳統遊戲的 NPC 行為受限於預設程式碼（Hard-coded Scripts），缺乏真正的自主性與不可預測性。 我們希望打破這個限制，利用大型語言模型（LLM）賦予角色「認知」與「記憶」。我們想創造的不僅僅是遊戲，而是一個**「微縮的數位社會實驗場」**。在這裡，每個角色都是獨立的智慧體，他們會思考、會社交、會愛恨情仇，而使用者將體驗真正的「上帝視角」，觀察這群數位生命如何在無人干預下，碰撞出意想不到的文明火花。

### 1.2 專案目標
本專案旨在開發一個**「生成式代理人模擬系統（Generative Agent Simulation System）」**：
* **高度自主性：** 透過 LLM (Large Language Model) 驅動 Agent 的行為決策與對話，而非傳統的行為樹。
* **開放式生態：** 允許使用者輸入 API Key 並自定義「玩家 Agent」的人設（Persona），進入世界與系統生成的 NPC 互動。
* **社會演化觀察：** 視覺化呈現 Agent 之間的關係網、記憶形成與社會結構的誕生。

## 貳、使用者與角色定義

### 2.1 使用者類型 (User Segments)
* **觀察者/創造者 (The Creator/Player):**
    核心用戶。提供 LLM API Key，負責定義「玩家 Agent」的初始參數（性格、目標），並以上帝視角觀察、干預世界。
* **系統管理員 (Admin):**
    負責伺服器維護、監控 Token 消耗量、重置世界狀態、處理異常 Agent 行為。

### 2.2 角色權限表 (系統功能面)

| 功能模組 | 觀察者 (Player) | 系統管理員 (Admin) | NPC (系統自動運行) |
| :--- | :--- | :--- | :--- |
| 世界登入 | O (需 API Key) | O | X |
| 創建/定義 Agent | O (僅限自有角色) | O (可投放 NPC) | X |
| 修改環境參數 | X | O (天氣/資源率) | X |
| 查看 Agent 思維 | O (可見 Log) | O (全域監控) | X |
| 強制處死角色 | O (僅限自有角色) | O (全伺服器) | X |
| 資料庫存取 | X | O | O (寫入自身記憶) |

## 參、功能與非功能需求

### 3.1 功能需求 (Functional Requirements)
* **Agent 核心系統 (The Brain):**
    * 感知模組： 將周圍環境（座標、物件、他人）轉譯為自然語言文字。
    * 記憶模組 (Vector Memory)： 儲存長期記憶，並透過 RAG (Retrieval-Augmented Generation) 技術檢索相關回憶。
    * 決策模組： 呼叫 LLM API，根據感知與記憶決定下一步行動（JSON 格式）。
* **世界環境系統 (The World):**
    * 地圖生成： 網格化地圖，包含阻擋物、資源點。
    * 輪迴機制： NPC 死亡後，系統需自動回收資源並在一定週期後生成新 NPC。
* **使用者介面 (God View UI):**
    * 儀表板： 顯示地圖、Agent 位置、當前時間。
    * 日誌視窗： 即時顯示 Agent 的內心獨白與對話內容。

### 3.2 非功能需求 (Non-Functional Requirements)
* **回應延遲 (Latency):** 由於 LLM 推理需要時間，系統需設計「非同步」機制，避免畫面凍結。
* **成本控制 (Cost Management):** 優化 Prompt 長度，避免過度消耗使用者的 API Quota。
* **防呆與容錯：** 當 LLM 回傳格式錯誤或發生幻覺（Hallucination）時，需有 Rule-based 的後備機制接手。

## 肆、系統架構與環境圖

## 伍、功能分解圖

## 陸、資料設計

## 柒、流程與互動圖

## 捌、UI原型

## 玖、風險與技術評估

## 拾、時程與測試
